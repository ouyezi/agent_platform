# æ™ºèƒ½ä½“ç®¡ç†å¹³å° - é˜¿é‡Œäº‘éƒ¨ç½²ç‰ˆ

ä¸€ä¸ªåŸºäºé˜¿é‡Œäº‘ECSå’Œé€šä¹‰åƒé—®çš„æ™ºèƒ½ä½“ç®¡ç†å¹³å°ï¼Œæ”¯æŒä¸€é”®éƒ¨ç½²å’Œç®¡ç†å¤šç§AIæ™ºèƒ½ä½“ã€‚

## ğŸš€ ç‰¹æ€§

- **é›¶æœåŠ¡å™¨è¿ç»´**ï¼šå®Œå…¨æ‰˜ç®¡åœ¨Cloudflareä¸Š
- **ä¸“ä¸ºåƒé—®ä¼˜åŒ–**ï¼šæ·±åº¦é›†æˆé€šä¹‰åƒé—®API
- **æç®€æ¶æ„**ï¼šå•Workeréƒ¨ç½²ï¼Œæ˜“äºç»´æŠ¤
- **å®æ—¶ç›‘æ§**ï¼šå†…ç½®APIè°ƒç”¨ç»Ÿè®¡å’Œæˆæœ¬ç›‘æ§
- **å“åº”å¼ç•Œé¢**ï¼šç°ä»£åŒ–çš„Webç®¡ç†ç•Œé¢

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯**ï¼šåŸç”ŸHTML/CSS/JavaScript
- **åç«¯**ï¼šCloudflare Workers (Node.js)
- **æ•°æ®åº“**ï¼šCloudflare D1 (SQLite)
- **å­˜å‚¨**ï¼šCloudflare R2
- **AIæ¨¡å‹**ï¼šé€šä¹‰åƒé—®ç³»åˆ—

## ğŸ“ é¡¹ç›®ç»“æ„

```
agent-platform/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.js              # ä¸»å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ qwenService.js    # åƒé—®APIé›†æˆ
â”‚   â”‚   â””â”€â”€ databaseService.js # æ•°æ®åº“æ“ä½œ
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ monitoring.js     # ç›‘æ§å’Œæ—¥å¿—
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ index.d.ts        # ç±»å‹å®šä¹‰
â”œâ”€â”€ public/
â”‚   â””â”€â”€ index.html            # ç®¡ç†ç•Œé¢
â”œâ”€â”€ wrangler.toml             # Cloudflareé…ç½®
â””â”€â”€ package.json              # é¡¹ç›®é…ç½®
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿å·²å®‰è£…ï¼š
- Node.js (>=18.0.0)
- npm æˆ– yarn

### 2. é¡¹ç›®åˆå§‹åŒ–

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd agent-platform

# å®‰è£…ä¾èµ–
npm install
```

### 3. é…ç½®ç¯å¢ƒ

ç¼–è¾‘ `wrangler.toml` æ–‡ä»¶ï¼š

```toml
[vars]
QWEN_API_KEY = "your-qwen-api-key"  # æ›¿æ¢ä¸ºä½ çš„åƒé—®APIå¯†é’¥
DEFAULT_MODEL = "qwen-plus"
```

### 4. æœ¬åœ°å¼€å‘

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# è®¿é—® http://localhost:8787
```

### 5. éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

```bash
# éƒ¨ç½²åˆ°Cloudflare
npm run deploy
```

## ğŸ”§ APIæ¥å£

### æ™ºèƒ½ä½“ç®¡ç†
- `GET /api/agents` - è·å–æ‰€æœ‰æ™ºèƒ½ä½“
- `POST /api/agents` - åˆ›å»ºæ–°æ™ºèƒ½ä½“
- `GET /api/agents/:id` - è·å–æ™ºèƒ½ä½“è¯¦æƒ…
- `PUT /api/agents/:id` - æ›´æ–°æ™ºèƒ½ä½“
- `DELETE /api/agents/:id` - åˆ é™¤æ™ºèƒ½ä½“

### æ™ºèƒ½ä½“æ‰§è¡Œ
- `POST /api/agents/:id/execute` - æ‰§è¡Œæ™ºèƒ½ä½“

### ç³»ç»Ÿæ¥å£
- `GET /health` - å¥åº·æ£€æŸ¥
- `GET /api/models` - æ”¯æŒçš„æ¨¡å‹åˆ—è¡¨
- `GET /api/metrics` - ç³»ç»ŸæŒ‡æ ‡
- `POST /api/metrics/reset` - é‡ç½®æŒ‡æ ‡

## ğŸ“Š ç›‘æ§åŠŸèƒ½

å¹³å°å†…ç½®ä»¥ä¸‹ç›‘æ§æŒ‡æ ‡ï¼š
- APIè°ƒç”¨æ¬¡æ•°
- æ€»æˆæœ¬ç»Ÿè®¡
- å¹³å‡å“åº”æ—¶é—´
- æˆåŠŸç‡ç»Ÿè®¡

é€šè¿‡ `/api/metrics` æ¥å£å¯ä»¥è·å–å®æ—¶ç›‘æ§æ•°æ®ã€‚

## ğŸ”’ å®‰å…¨è¯´æ˜

- APIå¯†é’¥åº”é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®
- å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯ç”¨Cloudflare Access
- æ•æ„Ÿæ“ä½œåº”æ·»åŠ èº«ä»½éªŒè¯

## ğŸ“ˆ æˆæœ¬æ§åˆ¶

åƒé—®æ¨¡å‹å®šä»·å‚è€ƒï¼š
- qwen-turbo: Â¥0.0008/åƒtoken
- qwen-plus: Â¥0.004/åƒtoken  
- qwen-max: Â¥0.02/åƒtoken

å¹³å°ä¼šè‡ªåŠ¨è®¡ç®—æ¯æ¬¡è°ƒç”¨çš„æˆæœ¬å¹¶åœ¨ç›‘æ§ä¸­æ˜¾ç¤ºã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›é¡¹ç›®ï¼

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ™ è‡´è°¢

- [Cloudflare Workers](https://workers.cloudflare.com/)
- [é€šä¹‰åƒé—®](https://dashscope.aliyun.com/)
- [Hono](https://hono.dev/)